<!DOCTYPE html>
<html>
<head>
  <title>Black Hole</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
    <script>
      AFRAME.registerComponent('toggle-dialog', {
        init: function() {
          this.facts = ["Hi! It appears you are near a black hole. Would you like some help?",
                        "1. You Can’t Directly See a Black Hole.",
                        "2. Our Milky Way Probably Has a Black Hole.", 
                        "3. Dying Stars Lead to Stellar Black Holes.",
                        "4. Black Holes Are Funky.",
                        "5. The First Black Hole Wasn’t Discovered Until X-Ray Astronomy was Used.",
                        "6. The Closest Black Hole is 20,000 Light-Years Away.",
                        "7. We Don’t Know if Wormholes Exist.",
                        "8. Black Holes Are Only Dangerous if You Get Too Close.",
                        "9. Black Holes Are Constantly Used in Science Fiction." ];
          this.currentFact = 0;
          this.el.addEventListener('click', (e) => {
            let dialog = document.querySelector('#dialog a-text');
            if (this.currentFact < this.facts.length) {
              dialog.setAttribute('value', this.facts[this.currentFact]);
              dialog.parentNode.setAttribute('visible', true);
              this.currentFact++;
            } else {
              dialog.parentNode.setAttribute('visible', false);
            }
          });
        }
      });
  </script>
</head>
<body>
    <a-scene cursor="rayOrigin: mouse">
      <a-assets>
        <img id="skyTexture" src="4k-space-texture.jpg">
        <a-asset-item id="blackHole" src="blackhole.glb"></a-asset-item>
        <a-asset-item id="clippIt" src="clippit.glb"></a-asset-item>
        <a-asset-item id="tarGet" src="target.glb"></a-asset-item>
        <a-asset-item id="greenMid" src="green_mid.glb"></a-asset-item>
        <a-asset-item id="bottomBar" src="bottom_bar.glb"></a-asset-item>
        <a-asset-item id="blueMid" src="blue_mid.glb"></a-asset-item>
        <a-asset-item id="ajf12Dvergr" src="ajf-12_dvergr.glb"></a-asset-item>
      </a-assets>
      <a-sky src="#skyTexture"></a-sky>
      <a-entity gltf-model="#blackHole" scale="10 10 10" position="0 0 -50" animation="property: rotation; to: 0 360 0; dur: 10000; easing: linear; loop: true"></a-entity>
      <a-entity id="path" curve="type: catmullrom; closed: true">
        <a-curve-point position="0 1.6 8"></a-curve-point>
        <a-curve-point position="4 1.6 6"></a-curve-point>
        <a-curve-point position="2 1.6 2"></a-curve-point>
        <a-curve-point position="-2 1.6 4"></a-curve-point>
      </a-entity>
      
      <a-entity gltf-model="#ajf12Dvergr" scale="2.5 2.5 2.5" position="0 1.6 8"
          animation__path="property: position; dur: 10000; easing: linear; loop: true; from: 0 1.6 8; to: 0 1.6 8"
          animation__rotation="property: rotation; dur: 10000; easing: linear; loop: true; to: 0 360 0"
          look-at="#path"></a-entity>      <a-entity gltf-model="#clippIt" scale="0.5 0.5 0.5" position="0 1.6 -2" toggle-dialog></a-entity>
      <a-entity id="dialog" visible="false">
        <a-text value="Keep clicking for some facts about black holes!" position="0 1.6 -2" scale="0.5 0.5 0.5" color="#FFF"></a-text>
      </a-entity>
      <a-camera>
        <a-entity gltf-model="#tarGet" position="0 0 -1" scale="0.2 0.2 0.2"></a-entity>
        <a-entity gltf-model="#greenMid" position="0 0 -1" scale="0.2 0.2 0.2"></a-entity>
        <a-entity gltf-model="#bottomBar" position="0 0 -1" scale="0.2 0.2 0.2"></a-entity>
        <a-entity gltf-model="#blueMid" position="0 0 -1" scale="0.2 0.2 0.2"></a-entity>
      </a-camera>
    </a-scene>
</body>
</html>
